<UserControl x:Class="App.Views.HistoryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d"
             Background="#F2F6FA"
             d:DesignHeight="450" d:DesignWidth="800">

    <Grid Margin="20">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="10"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0"
                       Text="LỊCH SỬ "
                       FontSize="22"
                       FontWeight="Bold"
                       Foreground="#2D4B65"
                       VerticalAlignment="Center" Margin="17,0,0,0"/>
            <StackPanel Grid.Column="1"
                        Orientation="Horizontal"
                        VerticalAlignment="Center">
                <TextBox x:Name="SearchPlateTextBox"
                         Width="220"
                         Height="30"
                         Margin="0,0,8,0"
                         Padding="8,2"
                         Background="White"
                         BorderBrush="#CBD5E0"
                         BorderThickness="1"
                         VerticalContentAlignment="Center"
                         Text="">
                    <TextBox.ToolTip>
                        <TextBlock Text="Nhập biển số cần tìm"/>
                    </TextBox.ToolTip>
                </TextBox>

                <Button x:Name="BtnSearchPlate"
                        Content="Tìm kiếm"
                        Height="30"
                        Padding="12,0"
                        Background="#3182CE"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand"/>
            </StackPanel>
        </Grid>
        <Border Grid.Row="3"
                Background="White"
                CornerRadius="12"
                BorderBrush="#D0D9E2"
                BorderThickness="1"
                Padding="16">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <StackPanel Grid.Row="0"
                            Orientation="Horizontal"
                            Margin="0,0,0,10">

                    <StackPanel Margin="0,0,10,0">
                        <TextBlock Text="Từ ngày"
                                   FontSize="12"
                                   Foreground="#4A5568"/>
                        <DatePicker x:Name="FromDatePicker"
                                    Width="140"
                                    Height="26"
                                    SelectedDate="{Binding FromDate}"/>
                    </StackPanel>
                    <StackPanel Margin="0,0,10,0">
                        <TextBlock Text="Đến ngày"
                                   FontSize="12"
                                   Foreground="#4A5568"/>
                        <DatePicker x:Name="ToDatePicker"
                                    Width="140"
                                    Height="26"
                                    SelectedDate="{Binding ToDate}"/>
                    </StackPanel>
                   
                    <StackPanel Margin="0,8,0,0"
                                Orientation="Horizontal">
                        <Button x:Name="BtnFilter"
                                Content="Lọc"
                                Width="70" Height="28"
                                Margin="0,0,8,0"
                                Background="#3182CE"
                                Foreground="White"
                                BorderThickness="0"
                                Cursor="Hand"/>
                        <Button x:Name="BtnClearFilter"
                                Content="Xóa lọc"
                                Width="80" Height="28"
                                Background="#A0AEC0"
                                Foreground="White"
                                BorderThickness="0"
                                Cursor="Hand"/>
                    </StackPanel>
                </StackPanel>
                <DataGrid Grid.Row="1"
                          ItemsSource="{Binding HistoryItems}"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          IsReadOnly="True"
                          HeadersVisibility="Column"
                          GridLinesVisibility="Horizontal">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Thời gian vào"  Binding="{Binding TimeIn}"      Width="*" />
                        <DataGridTextColumn Header="Thời gian ra"   Binding="{Binding TimeOut}"     Width="*" />
                        <DataGridTextColumn Header="Biển số"        Binding="{Binding Plate}"       Width="*" />
                        <DataGridTextColumn Header="Loại xe"        Binding="{Binding VehicleType}" Width="*" />
                        <DataGridTextColumn Header="Vị trí"         Binding="{Binding Slot}"        Width="*" />
                        <DataGridTextColumn Header="Tiền gửi"       Binding="{Binding Fee}"         Width="*" />
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>

    </Grid>
</UserControl>
